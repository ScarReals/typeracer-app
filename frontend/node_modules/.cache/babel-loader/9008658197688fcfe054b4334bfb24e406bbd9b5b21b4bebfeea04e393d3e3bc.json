{"ast":null,"code":"var _jsxFileName = \"/home/kokoi/typeracer-app/frontend/src/App.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport \"./App.css\";\nimport sentences from \"./sentences\";\nimport { useConnection, useWallet } from \"@solana/wallet-adapter-react\";\nimport { WalletMultiButton } from \"@solana/wallet-adapter-react-ui\";\nimport { LAMPORTS_PER_SOL, Transaction } from \"@solana/web3.js\";\nimport socket from \"./socket\";\nimport * as anchor from \"@coral-xyz/anchor\";\nimport { setProvider } from \"./solana\";\nimport { buildInitializeAndDepositIxns, buildJoinAndDepositIxn, buildCancelIxn, buildResolveIxn } from \"./escrow\";\n\n/* ──────────────────────────────────────────\n   SVG Cars\n   ────────────────────────────────────────── */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction CarPlayerSVG() {\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    viewBox: \"0 0 120 50\",\n    className: \"car-svg player\",\n    children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n      children: [/*#__PURE__*/_jsxDEV(\"linearGradient\", {\n        id: \"plyrBody\",\n        x1: \"0%\",\n        y1: \"0%\",\n        x2: \"100%\",\n        y2: \"0%\",\n        children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n          offset: \"0%\",\n          stopColor: \"#8b5cf6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n          offset: \"100%\",\n          stopColor: \"#a78bfa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"filter\", {\n        id: \"plyrGlow\",\n        x: \"-40%\",\n        y: \"-120%\",\n        width: \"180%\",\n        height: \"300%\",\n        children: /*#__PURE__*/_jsxDEV(\"feDropShadow\", {\n          dx: \"0\",\n          dy: \"6\",\n          stdDeviation: \"6\",\n          floodColor: \"#7c3aed\",\n          floodOpacity: \"0.65\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      filter: \"url(#plyrGlow)\",\n      children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n        x: \"10\",\n        y: \"18\",\n        width: \"80\",\n        height: \"14\",\n        rx: \"7\",\n        fill: \"url(#plyrBody)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M20 18 L40 10 H70 L90 18 Z\",\n        fill: \"url(#plyrBody)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n        x: \"45\",\n        y: \"12\",\n        width: \"18\",\n        height: \"8\",\n        rx: \"2\",\n        fill: \"#0f172a\",\n        opacity: \"0.8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n        cx: \"30\",\n        cy: \"36\",\n        r: \"8\",\n        fill: \"#0b1020\",\n        stroke: \"#c7d2fe\",\n        strokeWidth: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n        cx: \"80\",\n        cy: \"36\",\n        r: \"8\",\n        fill: \"#0b1020\",\n        stroke: \"#c7d2fe\",\n        strokeWidth: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n}\n_c = CarPlayerSVG;\nfunction CarOpponentSVG() {\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    viewBox: \"0 0 120 50\",\n    className: \"car-svg foe\",\n    children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n      children: [/*#__PURE__*/_jsxDEV(\"linearGradient\", {\n        id: \"foeBody\",\n        x1: \"0%\",\n        y1: \"0%\",\n        x2: \"100%\",\n        y2: \"0%\",\n        children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n          offset: \"0%\",\n          stopColor: \"#ef4444\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n          offset: \"100%\",\n          stopColor: \"#fb7185\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"filter\", {\n        id: \"foeGlow\",\n        x: \"-40%\",\n        y: \"-120%\",\n        width: \"180%\",\n        height: \"300%\",\n        children: /*#__PURE__*/_jsxDEV(\"feDropShadow\", {\n          dx: \"0\",\n          dy: \"6\",\n          stdDeviation: \"6\",\n          floodColor: \"#ef4444\",\n          floodOpacity: \"0.65\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      filter: \"url(#foeGlow)\",\n      children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n        x: \"10\",\n        y: \"18\",\n        width: \"80\",\n        height: \"14\",\n        rx: \"7\",\n        fill: \"url(#foeBody)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M20 18 L40 10 H70 L90 18 Z\",\n        fill: \"url(#foeBody)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n        x: \"45\",\n        y: \"12\",\n        width: \"18\",\n        height: \"8\",\n        rx: \"2\",\n        fill: \"#0f172a\",\n        opacity: \"0.8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n        cx: \"30\",\n        cy: \"36\",\n        r: \"8\",\n        fill: \"#0b1020\",\n        stroke: \"#fecaca\",\n        strokeWidth: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n        cx: \"80\",\n        cy: \"36\",\n        r: \"8\",\n        fill: \"#0b1020\",\n        stroke: \"#fecaca\",\n        strokeWidth: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n\n/* ──────────────────────────────────────────\n   Join Match – pretty tiles + big CTA\n   ────────────────────────────────────────── */\n_c2 = CarOpponentSVG;\nfunction JoinMatchCard({\n  openMatches,\n  isAccepting,\n  acceptMatch\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card join-card nice\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-icon\",\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"44\",\n        height: \"44\",\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        \"aria-hidden\": \"true\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M16 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4Zm-8 0a3 3 0 1 0-3-3 3 3 0 0 0 3 3Zm8 2c-2.67 0-8 1.34-8 4v1a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-1c0-2.66-5.33-4-8-4Zm-8 1c-2.42 0-7 1.21-7 3.6V19a1 1 0 0 0 1 1h6\",\n          stroke: \"currentColor\",\n          strokeWidth: \"1.6\",\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"join-title\",\n      children: \"Join Match\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"join-sub\",\n      children: \"Browse open matches and join instantly.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"match-scroll\",\n      children: [openMatches.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-tile\",\n        children: \"No open matches available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), openMatches.map((m, idx) => {\n        const players = m.accepter ? 2 : 1; // 1/2 until accepter exists\n        const isFull = players >= 2;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"match-tile\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tile-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tile-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tile-title\",\n                children: [\"Match #\", idx + 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tile-id\",\n                children: [m.id.slice(0, 6), \"\\u2026\", m.id.slice(-3)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tile-right\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tile-amount\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"16\",\n                  height: \"16\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  \"aria-hidden\": \"true\",\n                  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                    cx: \"12\",\n                    cy: \"12\",\n                    r: \"9\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"1.6\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M8 12h8M12 7v10\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"1.6\",\n                    strokeLinecap: \"round\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [m.amount, \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"SOL\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 38\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tile-players\",\n                children: [players, \"/2 players\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this), !isFull ? /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => acceptMatch(m),\n            disabled: isAccepting,\n            className: \"big-cta\",\n            children: isAccepting ? \"Joining…\" : \"Join Match\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"big-cta\",\n            disabled: true,\n            children: \"Match Full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 17\n          }, this)]\n        }, m.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n\n/* ──────────────────────────────────────────\n   FAQ – mini accordion\n   ────────────────────────────────────────── */\n_c3 = JoinMatchCard;\nfunction FAQ() {\n  _s();\n  const [open, setOpen] = useState(null);\n  const items = [{\n    q: \"What is TypeRacer?\",\n    a: \"A realtime typing game on Solana. Create or join a match, race, and the winner takes the pot.\"\n  }, {\n    q: \"How are payouts handled?\",\n    a: \"After both deposits, the program escrows funds and pays the winner (minus fee) on resolve.\"\n  }, {\n    q: \"Can I choose any wager?\",\n    a: \"Yes. Use presets or type a custom amount (min 0.01 SOL).\"\n  }];\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"faq-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"FAQ\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"faq-list\",\n      children: items.map((it, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `faq-item ${open === i ? \"open\" : \"\"}`,\n        onClick: () => setOpen(open === i ? null : i),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"faq-q\",\n          children: it.q\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this), open === i && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"faq-a\",\n          children: it.a\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 28\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n}\n\n/* ──────────────────────────────────────────\n   App\n   ────────────────────────────────────────── */\n_s(FAQ, \"3gHT60S3lHEhyYybFcB05ha95j4=\");\n_c4 = FAQ;\nexport default function App() {\n  _s2();\n  const {\n    connection\n  } = useConnection();\n  const wallet = useWallet();\n  const {\n    publicKey,\n    connected\n  } = wallet;\n  const walletAddress = (publicKey === null || publicKey === void 0 ? void 0 : publicKey.toBase58()) || \"\";\n  const walletAddressRef = useRef(walletAddress);\n  useEffect(() => {\n    walletAddressRef.current = walletAddress;\n  }, [walletAddress]);\n  useEffect(() => {\n    if (connected && connection) {\n      const prov = new anchor.AnchorProvider(connection, wallet, {\n        preflightCommitment: \"confirmed\",\n        commitment: \"confirmed\"\n      });\n      anchor.setProvider(prov);\n      setProvider(wallet);\n    }\n  }, [connected, connection, wallet]);\n  const [walletBalance, setWalletBalance] = useState(0);\n  useEffect(() => {\n    if (connection && publicKey) {\n      connection.getBalance(publicKey).then(lamports => {\n        setWalletBalance(lamports / LAMPORTS_PER_SOL);\n      });\n    }\n  }, [connection, publicKey]);\n\n  // app state\n  const [wager, setWager] = useState(\"\");\n  const [openMatches, setOpenMatches] = useState([]);\n  const [currentMatch, setCurrentMatch] = useState(null);\n  const [matchStatus, setMatchStatus] = useState(\"waiting\");\n\n  // waiting/cancel timer\n  const [matchCreatedAt, setMatchCreatedAt] = useState(0);\n  const [timeLeft, setTimeLeft] = useState(0);\n\n  // race state\n  const [sentence, setSentence] = useState(\"\");\n  const [inputValue, setInputValue] = useState(\"\");\n  const [playerProgress, setPlayerProgress] = useState(0);\n  const [opponentProgress, setOpponentProgress] = useState(0);\n  const [countdown, setCountdown] = useState(3);\n  const [raceResult, setRaceResult] = useState(null);\n  const [isInputDisabled, setIsInputDisabled] = useState(false);\n  const [isAccepting, setIsAccepting] = useState(false);\n  const [opponentWallet, setOpponentWallet] = useState(null);\n  const [hasError, setHasError] = useState(false);\n  const [chatMessages, setChatMessages] = useState([]);\n  const [chatInput, setChatInput] = useState(\"\");\n  const inputRef = useRef(null);\n  const API = process.env.REACT_APP_API_URL;\n  const [lastProgTime, setLastProgTime] = useState(Date.now());\n  const [lastProg, setLastProg] = useState(0);\n  const MAX_CPS = 20;\n  const chooseSentence = id => sentences[Array.from(id).reduce((a, c) => a + c.charCodeAt(0), 0) % sentences.length];\n  const fetchOpenMatches = async () => {\n    try {\n      const res = await fetch(`${API}/wagers`);\n      const wm = await res.json();\n      setOpenMatches(wm.filter(m => !m.accepter)); // only 1/2 matches\n    } catch {}\n  };\n  useEffect(() => {\n    socket.connect();\n    socket.on(\"openMatches\", wm => setOpenMatches(wm.filter(m => !m.accepter)));\n    socket.on(\"newMatch\", m => setOpenMatches(os => [...os, m].filter(x => !x.accepter)));\n    socket.on(\"removeMatch\", id => setOpenMatches(os => os.filter(m => m.id !== id)));\n    fetchOpenMatches();\n    return () => {\n      socket.removeAllListeners();\n      socket.disconnect();\n    };\n  }, []);\n\n  // cancel window (90s)\n  useEffect(() => {\n    if (!matchCreatedAt) return;\n    const tick = () => {\n      const elapsed = Date.now() - matchCreatedAt;\n      const secs = Math.ceil((90000 - elapsed) / 1000);\n      setTimeLeft(secs > 0 ? secs : 0);\n    };\n    tick();\n    const iv = setInterval(tick, 1000);\n    return () => clearInterval(iv);\n  }, [matchCreatedAt]);\n\n  // race lifecycle (with robust player normalization)\n  useEffect(() => {\n    const onStart = ({\n      id,\n      players\n    }) => {\n      socket.emit(\"joinMatch\", id);\n\n      // normalize players to ensure creator+accepter are present & ordered deterministically\n      const uniq = Array.from(new Set((players || []).filter(Boolean)));\n      const me = walletAddressRef.current;\n      setCurrentMatch(prev => {\n        var _prev$amount;\n        const fallbackCreator = (prev === null || prev === void 0 ? void 0 : prev.creator) || me;\n        // choose creator from socket or fallback (creator is simply the first non-null)\n        const creator = uniq[0] || fallbackCreator;\n\n        // accepter is the other distinct wallet if present\n        const accepter = uniq.find(p => p !== creator) || (prev === null || prev === void 0 ? void 0 : prev.accepter) || null;\n        const other = [creator, accepter].find(w => w && w !== me) || null;\n        setOpponentWallet(other);\n        setPlayerProgress(0);\n        setOpponentProgress(0);\n        return {\n          id,\n          amount: (_prev$amount = prev === null || prev === void 0 ? void 0 : prev.amount) !== null && _prev$amount !== void 0 ? _prev$amount : 0,\n          creator,\n          accepter,\n          nonce: prev === null || prev === void 0 ? void 0 : prev.nonce\n        };\n      });\n      setSentence(chooseSentence(id));\n      setMatchStatus(\"ready\");\n      setCountdown(3);\n      setHasError(false);\n    };\n    const onOppProg = ({\n      wallet: w,\n      progress\n    }) => {\n      if (w !== walletAddressRef.current) setOpponentProgress(progress);\n    };\n    const onRaceEnd = ({\n      winner,\n      progressMap\n    }) => {\n      setMatchStatus(\"finished\");\n      setIsInputDisabled(true);\n      setRaceResult({\n        result: winner === walletAddressRef.current ? \"win\" : \"lose\"\n      });\n      if (progressMap) {\n        var _progressMap$walletAd, _progressMap;\n        setPlayerProgress((_progressMap$walletAd = progressMap[walletAddressRef.current]) !== null && _progressMap$walletAd !== void 0 ? _progressMap$walletAd : 0);\n        setOpponentProgress((_progressMap = progressMap[opponentWallet !== null && opponentWallet !== void 0 ? opponentWallet : \"\"]) !== null && _progressMap !== void 0 ? _progressMap : 0);\n      }\n    };\n    socket.on(\"startMatch\", onStart);\n    socket.on(\"opponentProgress\", onOppProg);\n    socket.on(\"raceEnd\", onRaceEnd);\n    socket.on(\"chat\", setChatMessages);\n    socket.on(\"opponentLeft\", resetGame);\n    return () => {\n      socket.off(\"startMatch\", onStart);\n      socket.off(\"opponentProgress\", onOppProg);\n      socket.off(\"raceEnd\", onRaceEnd);\n      socket.off(\"chat\", setChatMessages);\n      socket.off(\"opponentLeft\", resetGame);\n    };\n  }, [opponentWallet]);\n\n  // ensure accepter sees a sentence\n  useEffect(() => {\n    if (currentMatch && (matchStatus === \"ready\" || matchStatus === \"racing\")) {\n      if (!sentence && currentMatch.id) setSentence(chooseSentence(currentMatch.id));\n      if (matchStatus === \"racing\") setIsInputDisabled(false);\n    }\n  }, [currentMatch, matchStatus, sentence]);\n  useEffect(() => {\n    if (matchStatus === \"ready\" && countdown > 0) {\n      const t = setTimeout(() => setCountdown(c => c - 1), 1000);\n      return () => clearTimeout(t);\n    } else if (matchStatus === \"ready\" && countdown === 0) {\n      var _inputRef$current;\n      setMatchStatus(\"racing\");\n      setIsInputDisabled(false);\n      (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n    }\n  }, [countdown, matchStatus]);\n  async function createMatch() {\n    if (!connected) return alert(\"Connect wallet\");\n    const min = 0.01;\n    const amt = Number(wager);\n    if (!amt || isNaN(amt) || amt < min) {\n      return alert(`Minimum wager is ${min} SOL`);\n    }\n    try {\n      const lamports = Math.floor(amt * LAMPORTS_PER_SOL);\n      const nonce = Math.floor(Math.random() * 1000000);\n      const {\n        ixInit,\n        ixDeposit,\n        escrowPda\n      } = await buildInitializeAndDepositIxns(lamports, publicKey, nonce);\n      const tx = new Transaction().add(ixInit, ixDeposit);\n      await wallet.sendTransaction(tx, connection);\n      const id = escrowPda.toBase58();\n      await fetch(`${API}/wagers`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          id,\n          vault: id,\n          amount: Number(amt),\n          creator: walletAddressRef.current,\n          feePercent: 5,\n          nonce\n        })\n      });\n      setCurrentMatch({\n        id,\n        amount: Number(amt),\n        creator: walletAddressRef.current,\n        nonce\n      });\n      setMatchCreatedAt(Date.now());\n      setMatchStatus(\"waiting\");\n      socket.emit(\"joinMatch\", id); // ensure creator is in the room\n      fetchOpenMatches();\n    } catch (e) {\n      console.error(\"Create error:\", e);\n      alert(\"Create match failed:\\n\" + e.message);\n    }\n  }\n  async function acceptMatch(m) {\n    if (!connected) return alert(\"Connect wallet\");\n    setIsAccepting(true);\n    try {\n      const ix = await buildJoinAndDepositIxn(m.id);\n      await wallet.sendTransaction(new Transaction().add(ix), connection);\n      await fetch(`${API}/wagers/${m.id}/accept`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          accepter: walletAddressRef.current\n        })\n      });\n      setCurrentMatch({\n        ...m,\n        accepter: walletAddressRef.current\n      });\n      setSentence(chooseSentence(m.id));\n      setMatchStatus(\"ready\");\n      setCountdown(3);\n      socket.emit(\"joinMatch\", m.id);\n      setHasError(false);\n    } catch (e) {\n      console.error(\"Accept error:\", e);\n      alert(\"Accept error:\\n\" + e.message);\n      setCurrentMatch(null);\n    } finally {\n      setIsAccepting(false);\n    }\n  }\n  async function cancelMatch(m) {\n    try {\n      const ix = await buildCancelIxn(m.id, m.creator, m.accepter || m.creator);\n      await wallet.sendTransaction(new Transaction().add(ix), connection);\n      await fetch(`${API}/wagers/${m.id}/cancel`, {\n        method: \"POST\"\n      });\n      resetGame();\n    } catch (e) {\n      console.error(\"Cancel error:\", e);\n      alert(\"Cancel error:\\n\" + e.message);\n    }\n  }\n  function resetGame() {\n    setCurrentMatch(null);\n    setMatchStatus(\"waiting\");\n    setSentence(\"\");\n    setInputValue(\"\");\n    setPlayerProgress(0);\n    setOpponentProgress(0);\n    setCountdown(3);\n    setRaceResult(null);\n    setIsInputDisabled(false);\n    setOpponentWallet(null);\n    setLastProg(0);\n    setLastProgTime(Date.now());\n    setMatchCreatedAt(0);\n    setTimeLeft(0);\n    setHasError(false);\n    fetchOpenMatches();\n  }\n  function handleInput(e) {\n    if (isInputDisabled) return;\n    if (e.type === \"paste\") {\n      e.preventDefault();\n      return;\n    }\n    const val = e.target.value;\n    if (!sentence.startsWith(val)) {\n      setHasError(true);\n      setInputValue(val);\n      return;\n    }\n    setHasError(false);\n    const now = Date.now();\n    const raw = Math.min(1, val.length / sentence.length);\n    const delta = raw - lastProg;\n    const dt = (now - lastProgTime) / 1000;\n    const cps = dt > 0 ? delta * sentence.length / dt : 0;\n    if (cps > MAX_CPS) return;\n    setLastProg(raw);\n    setLastProgTime(now);\n    setInputValue(val);\n    setPlayerProgress(raw);\n    if (currentMatch !== null && currentMatch !== void 0 && currentMatch.id) {\n      socket.emit(\"progress\", {\n        matchId: currentMatch.id,\n        wallet: walletAddressRef.current,\n        progress: raw\n      });\n    }\n    if (val === sentence && currentMatch !== null && currentMatch !== void 0 && currentMatch.id) {\n      fetch(`${API}/wagers/${currentMatch.id}/complete`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          winner: walletAddressRef.current\n        })\n      });\n      setMatchStatus(\"finished\");\n      setIsInputDisabled(true);\n      setRaceResult({\n        result: \"win\"\n      });\n    }\n  }\n  function renderHighlightedSentence(str, typed, error) {\n    const out = [];\n    const len = str.length;\n    for (let i = 0; i < len; i++) {\n      const ch = str[i];\n      const typedCh = typed[i];\n      if (i < typed.length) {\n        out.push(/*#__PURE__*/_jsxDEV(\"span\", {\n          className: typedCh === ch ? \"text-correct\" : \"text-error\",\n          children: ch\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 18\n        }, this));\n      } else if (i === typed.length && !error) {\n        out.push(/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-next\",\n          children: ch\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 18\n        }, this));\n      } else {\n        out.push(/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-remaining\",\n          children: ch\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 18\n        }, this));\n      }\n    }\n    return out;\n  }\n  const renderHome = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"homepage\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"hero-title\",\n      children: \"TypeRacer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"hero-subtitle\",\n      children: \"Race against others in real time. Place your bet and win SOL.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card create-card nice\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-icon\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"44\",\n            height: \"44\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            \"aria-hidden\": \"true\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"12\",\n              cy: \"12\",\n              r: \"9\",\n              stroke: \"currentColor\",\n              strokeWidth: \"1.6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M12 8v8M8 12h8\",\n              stroke: \"currentColor\",\n              strokeWidth: \"1.6\",\n              strokeLinecap: \"round\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"create-title\",\n          children: \"Create Match\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"create-sub\",\n          children: \"Pick a wager and open a new race.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"preset-buttons\",\n          children: [0.1, 0.5, 1].map(amt => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setWager(amt),\n            className: Number(wager) === amt ? \"active\" : \"\",\n            children: [amt, \" SOL\"]\n          }, amt, true, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          step: \"0.01\",\n          min: \"0.01\",\n          placeholder: \"Custom amount (min 0.01)\",\n          value: wager,\n          onChange: e => {\n            const n = Number(e.target.value);\n            if (Number.isNaN(n)) return setWager(\"\");\n            setWager(Math.max(0.01, n));\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"big-cta\",\n          onClick: createMatch,\n          children: \"Create Match\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(JoinMatchCard, {\n        openMatches: openMatches,\n        isAccepting: isAccepting,\n        acceptMatch: acceptMatch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"how-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"How It Works\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"how-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"how-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"how-num\",\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Create\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 69\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Set a wager and open a match.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 84\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"how-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"how-num\",\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Join\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 69\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Pick any open match to enter.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 82\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"how-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"how-num\",\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Race & Win\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 69\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Type fastest to win the pot.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 92\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FAQ, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 562,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 510,\n    columnNumber: 5\n  }, this);\n  const CAN_CANCEL = matchStatus === \"waiting\" && timeLeft === 0;\n  const WaitingView = () => currentMatch && matchStatus === \"waiting\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"match-screen\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"match-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Match Lobby\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pill\",\n          children: [currentMatch.amount, \" SOL\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Match Info\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"kv\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Match ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 35\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"#\", currentMatch.id.slice(0, 6)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 57\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"kv\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Creator:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 35\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [currentMatch.creator.slice(0, 6), \"\\u2026\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 56\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"kv\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 35\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ok\",\n              children: timeLeft > 0 ? `Cancelable in ${timeLeft}s` : \"Cancelable now\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 55\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Players\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"player-row you\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 47\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"who\",\n              children: \"You\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 70\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"addr\",\n              children: [walletAddressRef.current.slice(0, 6), \"\\u2026\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 100\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 587,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"player-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dot muted\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 43\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"who muted\",\n              children: \"Waiting for player\\u2026\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 72\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn danger\",\n          onClick: () => cancelMatch(currentMatch),\n          disabled: !CAN_CANCEL,\n          title: timeLeft > 0 ? `You can cancel in ${timeLeft}s` : \"Cancel match\",\n          children: timeLeft > 0 ? `Cancel in ${timeLeft}s` : \"Cancel Match\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 570,\n    columnNumber: 7\n  }, this) : null;\n  const ReadyOrRacingView = () => currentMatch && (matchStatus === \"ready\" || matchStatus === \"racing\") ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"match-screen\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"race-wrap\",\n      children: matchStatus === \"ready\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"start-count\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"big-ring\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ring-inner\",\n            children: countdown\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 608,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"start-text\",\n          children: \"Race Starting\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"muted\",\n          children: \"Get ready to type!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sentence card mono\",\n          children: renderHighlightedSentence(sentence, inputValue, hasError)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: inputRef,\n          type: \"text\",\n          value: inputValue,\n          onChange: handleInput,\n          onPaste: handleInput,\n          placeholder: \"Start typing\\u2026\",\n          disabled: isInputDisabled,\n          autoFocus: true,\n          className: `type-input mono ${hasError ? \"error\" : \"\"}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 617,\n          columnNumber: 15\n        }, this), hasError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-note\",\n          children: \"Mistake detected \\u2014 correct it.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 628,\n          columnNumber: 28\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"track\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lane\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"car player\",\n              style: {\n                left: `calc(${playerProgress * 100}% - 32px)`\n              },\n              \"aria-label\": \"Your car\",\n              children: /*#__PURE__*/_jsxDEV(CarPlayerSVG, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lane\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"car foe\",\n              style: {\n                left: `calc(${opponentProgress * 100}% - 32px)`\n              },\n              \"aria-label\": \"Opponent car\",\n              children: /*#__PURE__*/_jsxDEV(CarOpponentSVG, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 636,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 605,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 604,\n    columnNumber: 7\n  }, this) : null;\n  const ResultsView = () => matchStatus === \"finished\" && currentMatch ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"match-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"results-card card\",\n      children: (raceResult === null || raceResult === void 0 ? void 0 : raceResult.result) === \"win\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-emoji\",\n          children: \"\\uD83C\\uDFC6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"result-title ok\",\n          children: \"Victory!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 655,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"muted\",\n          children: [\"Claim your prize of \", currentMatch.amount, \" SOL\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 656,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn primary\",\n            onClick: async () => {\n              try {\n                const ix = await buildResolveIxn(currentMatch.id, walletAddressRef.current);\n                const tx = new Transaction().add(ix);\n                await wallet.sendTransaction(tx, connection);\n                resetGame();\n              } catch (e) {\n                console.error(\"Claim error:\", e);\n                alert(\"Payout error:\\n\" + e.message);\n              }\n            },\n            children: \"Claim Winnings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn outline\",\n            onClick: resetGame,\n            children: \"Back to Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 669,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 657,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-emoji\",\n          children: \"\\u274C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 674,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"result-title danger\",\n          children: \"Defeat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"muted\",\n          children: \"Better luck next time.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 676,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn outline\",\n            onClick: resetGame,\n            children: \"Back to Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 678,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 677,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 651,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Match Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 685,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-messages\",\n        children: chatMessages.map((msg, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n          className: msg.sender === walletAddressRef.current ? \"self\" : \"other\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [msg.sender.slice(0, 6), \"\\u2026:\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 689,\n            columnNumber: 17\n          }, this), \" \", msg.message]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 686,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-input\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: chatInput,\n          onChange: e => setChatInput(e.target.value),\n          onKeyDown: e => e.key === \"Enter\" && socket.emit(\"message\", {\n            matchId: currentMatch.id,\n            sender: walletAddressRef.current,\n            message: chatInput\n          }) && setChatInput(\"\"),\n          placeholder: \"Type message\\u2026\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 694,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          disabled: !chatInput.trim(),\n          onClick: () => {\n            socket.emit(\"message\", {\n              matchId: currentMatch.id,\n              sender: walletAddressRef.current,\n              message: chatInput\n            });\n            setChatInput(\"\");\n          },\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 693,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 684,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 650,\n    columnNumber: 7\n  }, this) : null;\n\n  // ensure cancel window starts for creator\n  useEffect(() => {\n    if (currentMatch && matchStatus === \"waiting\" && !matchCreatedAt) {\n      setMatchCreatedAt(Date.now());\n    }\n  }, [currentMatch, matchStatus, matchCreatedAt]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-shell\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"topbar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"brand\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 736,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"brand-text\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"brand-title\",\n            children: \"TypeRacer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 738,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"brand-sub\",\n            children: \"Race to win SOL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 739,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 737,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 735,\n        columnNumber: 9\n      }, this), connected ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wallet-pill\",\n        children: [walletAddressRef.current.slice(0, 6), \"\\u2026 (\", walletBalance.toFixed(2), \" SOL)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 744,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(WalletMultiButton, {\n        className: \"connect-btn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 748,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 734,\n      columnNumber: 7\n    }, this), !currentMatch && renderHome(), WaitingView(), ReadyOrRacingView(), ResultsView()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 733,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"cT9rcQEN7dLVvhIsecqT1LjtrRo=\", false, function () {\n  return [useConnection, useWallet];\n});\n_c5 = App;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"CarPlayerSVG\");\n$RefreshReg$(_c2, \"CarOpponentSVG\");\n$RefreshReg$(_c3, \"JoinMatchCard\");\n$RefreshReg$(_c4, \"FAQ\");\n$RefreshReg$(_c5, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","sentences","useConnection","useWallet","WalletMultiButton","LAMPORTS_PER_SOL","Transaction","socket","anchor","setProvider","buildInitializeAndDepositIxns","buildJoinAndDepositIxn","buildCancelIxn","buildResolveIxn","jsxDEV","_jsxDEV","Fragment","_Fragment","CarPlayerSVG","viewBox","className","children","id","x1","y1","x2","y2","offset","stopColor","fileName","_jsxFileName","lineNumber","columnNumber","x","y","width","height","dx","dy","stdDeviation","floodColor","floodOpacity","filter","rx","fill","d","opacity","cx","cy","r","stroke","strokeWidth","_c","CarOpponentSVG","_c2","JoinMatchCard","openMatches","isAccepting","acceptMatch","strokeLinecap","strokeLinejoin","length","map","m","idx","players","accepter","isFull","slice","amount","onClick","disabled","_c3","FAQ","_s","open","setOpen","items","q","a","it","i","_c4","App","_s2","connection","wallet","publicKey","connected","walletAddress","toBase58","walletAddressRef","current","prov","AnchorProvider","preflightCommitment","commitment","walletBalance","setWalletBalance","getBalance","then","lamports","wager","setWager","setOpenMatches","currentMatch","setCurrentMatch","matchStatus","setMatchStatus","matchCreatedAt","setMatchCreatedAt","timeLeft","setTimeLeft","sentence","setSentence","inputValue","setInputValue","playerProgress","setPlayerProgress","opponentProgress","setOpponentProgress","countdown","setCountdown","raceResult","setRaceResult","isInputDisabled","setIsInputDisabled","setIsAccepting","opponentWallet","setOpponentWallet","hasError","setHasError","chatMessages","setChatMessages","chatInput","setChatInput","inputRef","API","process","env","REACT_APP_API_URL","lastProgTime","setLastProgTime","Date","now","lastProg","setLastProg","MAX_CPS","chooseSentence","Array","from","reduce","c","charCodeAt","fetchOpenMatches","res","fetch","wm","json","connect","on","os","removeAllListeners","disconnect","tick","elapsed","secs","Math","ceil","iv","setInterval","clearInterval","onStart","emit","uniq","Set","Boolean","me","prev","_prev$amount","fallbackCreator","creator","find","p","other","w","nonce","onOppProg","progress","onRaceEnd","winner","progressMap","result","_progressMap$walletAd","_progressMap","resetGame","off","t","setTimeout","clearTimeout","_inputRef$current","focus","createMatch","alert","min","amt","Number","isNaN","floor","random","ixInit","ixDeposit","escrowPda","tx","add","sendTransaction","method","headers","body","JSON","stringify","vault","feePercent","e","console","error","message","ix","cancelMatch","handleInput","type","preventDefault","val","target","value","startsWith","raw","delta","dt","cps","matchId","renderHighlightedSentence","str","typed","out","len","ch","typedCh","push","renderHome","step","placeholder","onChange","n","max","CAN_CANCEL","WaitingView","title","ReadyOrRacingView","ref","onPaste","autoFocus","style","left","ResultsView","msg","sender","onKeyDown","key","trim","toFixed","_c5","$RefreshReg$"],"sources":["/home/kokoi/typeracer-app/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport \"./App.css\";\nimport sentences from \"./sentences\";\nimport { useConnection, useWallet } from \"@solana/wallet-adapter-react\";\nimport { WalletMultiButton } from \"@solana/wallet-adapter-react-ui\";\nimport { LAMPORTS_PER_SOL, Transaction } from \"@solana/web3.js\";\nimport socket from \"./socket\";\nimport * as anchor from \"@coral-xyz/anchor\";\nimport { setProvider } from \"./solana\";\nimport {\n  buildInitializeAndDepositIxns,\n  buildJoinAndDepositIxn,\n  buildCancelIxn,\n  buildResolveIxn,\n} from \"./escrow\";\n\n/* ──────────────────────────────────────────\n   SVG Cars\n   ────────────────────────────────────────── */\nfunction CarPlayerSVG() {\n  return (\n    <svg viewBox=\"0 0 120 50\" className=\"car-svg player\">\n      <defs>\n        <linearGradient id=\"plyrBody\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n          <stop offset=\"0%\" stopColor=\"#8b5cf6\" />\n          <stop offset=\"100%\" stopColor=\"#a78bfa\" />\n        </linearGradient>\n        <filter id=\"plyrGlow\" x=\"-40%\" y=\"-120%\" width=\"180%\" height=\"300%\">\n          <feDropShadow dx=\"0\" dy=\"6\" stdDeviation=\"6\" floodColor=\"#7c3aed\" floodOpacity=\"0.65\"/>\n        </filter>\n      </defs>\n      <g filter=\"url(#plyrGlow)\">\n        <rect x=\"10\" y=\"18\" width=\"80\" height=\"14\" rx=\"7\" fill=\"url(#plyrBody)\" />\n        <path d=\"M20 18 L40 10 H70 L90 18 Z\" fill=\"url(#plyrBody)\" />\n        <rect x=\"45\" y=\"12\" width=\"18\" height=\"8\" rx=\"2\" fill=\"#0f172a\" opacity=\"0.8\" />\n        <circle cx=\"30\" cy=\"36\" r=\"8\" fill=\"#0b1020\" stroke=\"#c7d2fe\" strokeWidth=\"2\"/>\n        <circle cx=\"80\" cy=\"36\" r=\"8\" fill=\"#0b1020\" stroke=\"#c7d2fe\" strokeWidth=\"2\"/>\n      </g>\n    </svg>\n  );\n}\nfunction CarOpponentSVG() {\n  return (\n    <svg viewBox=\"0 0 120 50\" className=\"car-svg foe\">\n      <defs>\n        <linearGradient id=\"foeBody\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n          <stop offset=\"0%\" stopColor=\"#ef4444\" />\n          <stop offset=\"100%\" stopColor=\"#fb7185\" />\n        </linearGradient>\n        <filter id=\"foeGlow\" x=\"-40%\" y=\"-120%\" width=\"180%\" height=\"300%\">\n          <feDropShadow dx=\"0\" dy=\"6\" stdDeviation=\"6\" floodColor=\"#ef4444\" floodOpacity=\"0.65\"/>\n        </filter>\n      </defs>\n      <g filter=\"url(#foeGlow)\">\n        <rect x=\"10\" y=\"18\" width=\"80\" height=\"14\" rx=\"7\" fill=\"url(#foeBody)\" />\n        <path d=\"M20 18 L40 10 H70 L90 18 Z\" fill=\"url(#foeBody)\" />\n        <rect x=\"45\" y=\"12\" width=\"18\" height=\"8\" rx=\"2\" fill=\"#0f172a\" opacity=\"0.8\" />\n        <circle cx=\"30\" cy=\"36\" r=\"8\" fill=\"#0b1020\" stroke=\"#fecaca\" strokeWidth=\"2\"/>\n        <circle cx=\"80\" cy=\"36\" r=\"8\" fill=\"#0b1020\" stroke=\"#fecaca\" strokeWidth=\"2\"/>\n      </g>\n    </svg>\n  );\n}\n\n/* ──────────────────────────────────────────\n   Join Match – pretty tiles + big CTA\n   ────────────────────────────────────────── */\nfunction JoinMatchCard({ openMatches, isAccepting, acceptMatch }) {\n  return (\n    <div className=\"card join-card nice\">\n      <div className=\"card-icon\">\n        <svg width=\"44\" height=\"44\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\">\n          <path\n            d=\"M16 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4Zm-8 0a3 3 0 1 0-3-3 3 3 0 0 0 3 3Zm8 2c-2.67 0-8 1.34-8 4v1a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-1c0-2.66-5.33-4-8-4Zm-8 1c-2.42 0-7 1.21-7 3.6V19a1 1 0 0 0 1 1h6\"\n            stroke=\"currentColor\" strokeWidth=\"1.6\" strokeLinecap=\"round\" strokeLinejoin=\"round\"\n          />\n        </svg>\n      </div>\n      <h2 className=\"join-title\">Join Match</h2>\n      <p className=\"join-sub\">Browse open matches and join instantly.</p>\n\n      <div className=\"match-scroll\">\n        {openMatches.length === 0 && (\n          <div className=\"empty-tile\">No open matches available</div>\n        )}\n        {openMatches.map((m, idx) => {\n          const players = m.accepter ? 2 : 1; // 1/2 until accepter exists\n          const isFull = players >= 2;\n          return (\n            <div className=\"match-tile\" key={m.id}>\n              <div className=\"tile-header\">\n                <div className=\"tile-left\">\n                  <div className=\"tile-title\">Match #{idx + 1}</div>\n                  <div className=\"tile-id\">{m.id.slice(0, 6)}…{m.id.slice(-3)}</div>\n                </div>\n                <div className=\"tile-right\">\n                  <div className=\"tile-amount\">\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\">\n                      <circle cx=\"12\" cy=\"12\" r=\"9\" stroke=\"currentColor\" strokeWidth=\"1.6\" />\n                      <path d=\"M8 12h8M12 7v10\" stroke=\"currentColor\" strokeWidth=\"1.6\" strokeLinecap=\"round\" />\n                    </svg>\n                    <span>{m.amount} <b>SOL</b></span>\n                  </div>\n                  <div className=\"tile-players\">{players}/2 players</div>\n                </div>\n              </div>\n\n              {!isFull ? (\n                <button\n                  onClick={() => acceptMatch(m)}\n                  disabled={isAccepting}\n                  className=\"big-cta\"\n                >\n                  {isAccepting ? \"Joining…\" : \"Join Match\"}\n                </button>\n              ) : (\n                <button className=\"big-cta\" disabled>Match Full</button>\n              )}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\n/* ──────────────────────────────────────────\n   FAQ – mini accordion\n   ────────────────────────────────────────── */\nfunction FAQ() {\n  const [open, setOpen] = useState(null);\n  const items = [\n    { q: \"What is TypeRacer?\", a: \"A realtime typing game on Solana. Create or join a match, race, and the winner takes the pot.\" },\n    { q: \"How are payouts handled?\", a: \"After both deposits, the program escrows funds and pays the winner (minus fee) on resolve.\" },\n    { q: \"Can I choose any wager?\", a: \"Yes. Use presets or type a custom amount (min 0.01 SOL).\" },\n  ];\n  return (\n    <section className=\"faq-section\">\n      <h2>FAQ</h2>\n      <div className=\"faq-list\">\n        {items.map((it, i) => (\n          <div key={i} className={`faq-item ${open === i ? \"open\" : \"\"}`} onClick={() => setOpen(open === i ? null : i)}>\n            <div className=\"faq-q\">{it.q}</div>\n            {open === i && <div className=\"faq-a\">{it.a}</div>}\n          </div>\n        ))}\n      </div>\n    </section>\n  );\n}\n\n/* ──────────────────────────────────────────\n   App\n   ────────────────────────────────────────── */\nexport default function App() {\n  const { connection } = useConnection();\n  const wallet = useWallet();\n  const { publicKey, connected } = wallet;\n  const walletAddress = publicKey?.toBase58() || \"\";\n\n  const walletAddressRef = useRef(walletAddress);\n  useEffect(() => { walletAddressRef.current = walletAddress; }, [walletAddress]);\n\n  useEffect(() => {\n    if (connected && connection) {\n      const prov = new anchor.AnchorProvider(connection, wallet, {\n        preflightCommitment: \"confirmed\",\n        commitment: \"confirmed\",\n      });\n      anchor.setProvider(prov);\n      setProvider(wallet);\n    }\n  }, [connected, connection, wallet]);\n\n  const [walletBalance, setWalletBalance] = useState(0);\n  useEffect(() => {\n    if (connection && publicKey) {\n      connection.getBalance(publicKey).then((lamports) => {\n        setWalletBalance(lamports / LAMPORTS_PER_SOL);\n      });\n    }\n  }, [connection, publicKey]);\n\n  // app state\n  const [wager, setWager] = useState(\"\");\n  const [openMatches, setOpenMatches] = useState([]);\n  const [currentMatch, setCurrentMatch] = useState(null);\n  const [matchStatus, setMatchStatus] = useState(\"waiting\");\n\n  // waiting/cancel timer\n  const [matchCreatedAt, setMatchCreatedAt] = useState(0);\n  const [timeLeft, setTimeLeft] = useState(0);\n\n  // race state\n  const [sentence, setSentence] = useState(\"\");\n  const [inputValue, setInputValue] = useState(\"\");\n  const [playerProgress, setPlayerProgress] = useState(0);\n  const [opponentProgress, setOpponentProgress] = useState(0);\n  const [countdown, setCountdown] = useState(3);\n  const [raceResult, setRaceResult] = useState(null);\n  const [isInputDisabled, setIsInputDisabled] = useState(false);\n  const [isAccepting, setIsAccepting] = useState(false);\n  const [opponentWallet, setOpponentWallet] = useState(null);\n\n  const [hasError, setHasError] = useState(false);\n  const [chatMessages, setChatMessages] = useState([]);\n  const [chatInput, setChatInput] = useState(\"\");\n  const inputRef = useRef(null);\n\n  const API = process.env.REACT_APP_API_URL;\n\n  const [lastProgTime, setLastProgTime] = useState(Date.now());\n  const [lastProg, setLastProg] = useState(0);\n  const MAX_CPS = 20;\n\n  const chooseSentence = (id) =>\n    sentences[Array.from(id).reduce((a, c) => a + c.charCodeAt(0), 0) % sentences.length];\n\n  const fetchOpenMatches = async () => {\n    try {\n      const res = await fetch(`${API}/wagers`);\n      const wm = await res.json();\n      setOpenMatches(wm.filter((m) => !m.accepter)); // only 1/2 matches\n    } catch {}\n  };\n\n  useEffect(() => {\n    socket.connect();\n    socket.on(\"openMatches\", (wm) => setOpenMatches(wm.filter((m) => !m.accepter)));\n    socket.on(\"newMatch\", (m) => setOpenMatches((os) => [...os, m].filter((x) => !x.accepter)));\n    socket.on(\"removeMatch\", (id) => setOpenMatches((os) => os.filter((m) => m.id !== id)));\n    fetchOpenMatches();\n    return () => {\n      socket.removeAllListeners();\n      socket.disconnect();\n    };\n  }, []);\n\n  // cancel window (90s)\n  useEffect(() => {\n    if (!matchCreatedAt) return;\n    const tick = () => {\n      const elapsed = Date.now() - matchCreatedAt;\n      const secs = Math.ceil((90_000 - elapsed) / 1000);\n      setTimeLeft(secs > 0 ? secs : 0);\n    };\n    tick();\n    const iv = setInterval(tick, 1000);\n    return () => clearInterval(iv);\n  }, [matchCreatedAt]);\n\n  // race lifecycle (with robust player normalization)\n  useEffect(() => {\n    const onStart = ({ id, players }) => {\n      socket.emit(\"joinMatch\", id);\n\n      // normalize players to ensure creator+accepter are present & ordered deterministically\n      const uniq = Array.from(new Set((players || []).filter(Boolean)));\n      const me = walletAddressRef.current;\n\n      setCurrentMatch((prev) => {\n        const fallbackCreator = prev?.creator || me;\n        // choose creator from socket or fallback (creator is simply the first non-null)\n        const creator =\n          uniq[0] ||\n          fallbackCreator;\n\n        // accepter is the other distinct wallet if present\n        const accepter =\n          uniq.find((p) => p !== creator) ||\n          prev?.accepter ||\n          null;\n\n        const other = [creator, accepter].find((w) => w && w !== me) || null;\n        setOpponentWallet(other);\n\n        setPlayerProgress(0);\n        setOpponentProgress(0);\n\n        return {\n          id,\n          amount: prev?.amount ?? 0,\n          creator,\n          accepter,\n          nonce: prev?.nonce,\n        };\n      });\n\n      setSentence(chooseSentence(id));\n      setMatchStatus(\"ready\");\n      setCountdown(3);\n      setHasError(false);\n    };\n\n    const onOppProg = ({ wallet: w, progress }) => {\n      if (w !== walletAddressRef.current) setOpponentProgress(progress);\n    };\n\n    const onRaceEnd = ({ winner, progressMap }) => {\n      setMatchStatus(\"finished\");\n      setIsInputDisabled(true);\n      setRaceResult({ result: winner === walletAddressRef.current ? \"win\" : \"lose\" });\n      if (progressMap) {\n        setPlayerProgress(progressMap[walletAddressRef.current] ?? 0);\n        setOpponentProgress(progressMap[opponentWallet ?? \"\"] ?? 0);\n      }\n    };\n\n    socket.on(\"startMatch\", onStart);\n    socket.on(\"opponentProgress\", onOppProg);\n    socket.on(\"raceEnd\", onRaceEnd);\n    socket.on(\"chat\", setChatMessages);\n    socket.on(\"opponentLeft\", resetGame);\n\n    return () => {\n      socket.off(\"startMatch\", onStart);\n      socket.off(\"opponentProgress\", onOppProg);\n      socket.off(\"raceEnd\", onRaceEnd);\n      socket.off(\"chat\", setChatMessages);\n      socket.off(\"opponentLeft\", resetGame);\n    };\n  }, [opponentWallet]);\n\n  // ensure accepter sees a sentence\n  useEffect(() => {\n    if (currentMatch && (matchStatus === \"ready\" || matchStatus === \"racing\")) {\n      if (!sentence && currentMatch.id) setSentence(chooseSentence(currentMatch.id));\n      if (matchStatus === \"racing\") setIsInputDisabled(false);\n    }\n  }, [currentMatch, matchStatus, sentence]);\n\n  useEffect(() => {\n    if (matchStatus === \"ready\" && countdown > 0) {\n      const t = setTimeout(() => setCountdown((c) => c - 1), 1000);\n      return () => clearTimeout(t);\n    } else if (matchStatus === \"ready\" && countdown === 0) {\n      setMatchStatus(\"racing\");\n      setIsInputDisabled(false);\n      inputRef.current?.focus();\n    }\n  }, [countdown, matchStatus]);\n\n  async function createMatch() {\n    if (!connected) return alert(\"Connect wallet\");\n    const min = 0.01;\n    const amt = Number(wager);\n    if (!amt || isNaN(amt) || amt < min) {\n      return alert(`Minimum wager is ${min} SOL`);\n    }\n    try {\n      const lamports = Math.floor(amt * LAMPORTS_PER_SOL);\n      const nonce = Math.floor(Math.random() * 1_000_000);\n      const { ixInit, ixDeposit, escrowPda } =\n        await buildInitializeAndDepositIxns(lamports, publicKey, nonce);\n\n      const tx = new Transaction().add(ixInit, ixDeposit);\n      await wallet.sendTransaction(tx, connection);\n\n      const id = escrowPda.toBase58();\n      await fetch(`${API}/wagers`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          id,\n          vault: id,\n          amount: Number(amt),\n          creator: walletAddressRef.current,\n          feePercent: 5,\n          nonce,\n        }),\n      });\n\n      setCurrentMatch({\n        id,\n        amount: Number(amt),\n        creator: walletAddressRef.current,\n        nonce,\n      });\n      setMatchCreatedAt(Date.now());\n      setMatchStatus(\"waiting\");\n      socket.emit(\"joinMatch\", id); // ensure creator is in the room\n      fetchOpenMatches();\n    } catch (e) {\n      console.error(\"Create error:\", e);\n      alert(\"Create match failed:\\n\" + e.message);\n    }\n  }\n\n  async function acceptMatch(m) {\n    if (!connected) return alert(\"Connect wallet\");\n    setIsAccepting(true);\n    try {\n      const ix = await buildJoinAndDepositIxn(m.id);\n      await wallet.sendTransaction(new Transaction().add(ix), connection);\n\n      await fetch(`${API}/wagers/${m.id}/accept`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ accepter: walletAddressRef.current }),\n      });\n\n      setCurrentMatch({ ...m, accepter: walletAddressRef.current });\n      setSentence(chooseSentence(m.id));\n      setMatchStatus(\"ready\");\n      setCountdown(3);\n      socket.emit(\"joinMatch\", m.id);\n      setHasError(false);\n    } catch (e) {\n      console.error(\"Accept error:\", e);\n      alert(\"Accept error:\\n\" + e.message);\n      setCurrentMatch(null);\n    } finally {\n      setIsAccepting(false);\n    }\n  }\n\n  async function cancelMatch(m) {\n    try {\n      const ix = await buildCancelIxn(m.id, m.creator, m.accepter || m.creator);\n      await wallet.sendTransaction(new Transaction().add(ix), connection);\n      await fetch(`${API}/wagers/${m.id}/cancel`, { method: \"POST\" });\n      resetGame();\n    } catch (e) {\n      console.error(\"Cancel error:\", e);\n      alert(\"Cancel error:\\n\" + e.message);\n    }\n  }\n\n  function resetGame() {\n    setCurrentMatch(null);\n    setMatchStatus(\"waiting\");\n    setSentence(\"\");\n    setInputValue(\"\");\n    setPlayerProgress(0);\n    setOpponentProgress(0);\n    setCountdown(3);\n    setRaceResult(null);\n    setIsInputDisabled(false);\n    setOpponentWallet(null);\n    setLastProg(0);\n    setLastProgTime(Date.now());\n    setMatchCreatedAt(0);\n    setTimeLeft(0);\n    setHasError(false);\n    fetchOpenMatches();\n  }\n\n  function handleInput(e) {\n    if (isInputDisabled) return;\n    if (e.type === \"paste\") { e.preventDefault(); return; }\n    const val = e.target.value;\n\n    if (!sentence.startsWith(val)) {\n      setHasError(true);\n      setInputValue(val);\n      return;\n    }\n    setHasError(false);\n\n    const now = Date.now();\n    const raw = Math.min(1, val.length / sentence.length);\n    const delta = raw - lastProg;\n    const dt = (now - lastProgTime) / 1000;\n    const cps = dt > 0 ? (delta * sentence.length) / dt : 0;\n    if (cps > MAX_CPS) return;\n\n    setLastProg(raw);\n    setLastProgTime(now);\n    setInputValue(val);\n    setPlayerProgress(raw);\n\n    if (currentMatch?.id) {\n      socket.emit(\"progress\", {\n        matchId: currentMatch.id,\n        wallet: walletAddressRef.current,\n        progress: raw,\n      });\n    }\n\n    if (val === sentence && currentMatch?.id) {\n      fetch(`${API}/wagers/${currentMatch.id}/complete`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ winner: walletAddressRef.current }),\n      });\n      setMatchStatus(\"finished\");\n      setIsInputDisabled(true);\n      setRaceResult({ result: \"win\" });\n    }\n  }\n\n  function renderHighlightedSentence(str, typed, error) {\n    const out = [];\n    const len = str.length;\n    for (let i = 0; i < len; i++) {\n      const ch = str[i];\n      const typedCh = typed[i];\n      if (i < typed.length) {\n        out.push(<span key={i} className={typedCh === ch ? \"text-correct\" : \"text-error\"}>{ch}</span>);\n      } else if (i === typed.length && !error) {\n        out.push(<span key={i} className=\"text-next\">{ch}</span>);\n      } else {\n        out.push(<span key={i} className=\"text-remaining\">{ch}</span>);\n      }\n    }\n    return out;\n  }\n\n  const renderHome = () => (\n    <div className=\"homepage\">\n      <h1 className=\"hero-title\">TypeRacer</h1>\n      <p className=\"hero-subtitle\">Race against others in real time. Place your bet and win SOL.</p>\n\n      <div className=\"home-grid\">\n        {/* Create Match */}\n        <div className=\"card create-card nice\">\n          <div className=\"card-icon\">\n            <svg width=\"44\" height=\"44\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\">\n              <circle cx=\"12\" cy=\"12\" r=\"9\" stroke=\"currentColor\" strokeWidth=\"1.6\" />\n              <path d=\"M12 8v8M8 12h8\" stroke=\"currentColor\" strokeWidth=\"1.6\" strokeLinecap=\"round\" />\n            </svg>\n          </div>\n          <h2 className=\"create-title\">Create Match</h2>\n          <p className=\"create-sub\">Pick a wager and open a new race.</p>\n\n          <div className=\"preset-buttons\">\n            {[0.1, 0.5, 1].map((amt) => (\n              <button key={amt} onClick={() => setWager(amt)} className={Number(wager) === amt ? \"active\" : \"\"}>\n                {amt} SOL\n              </button>\n            ))}\n          </div>\n\n          <input\n            type=\"number\" step=\"0.01\" min=\"0.01\"\n            placeholder=\"Custom amount (min 0.01)\"\n            value={wager}\n            onChange={(e) => {\n              const n = Number(e.target.value);\n              if (Number.isNaN(n)) return setWager(\"\");\n              setWager(Math.max(0.01, n));\n            }}\n          />\n\n          <button className=\"big-cta\" onClick={createMatch}>Create Match</button>\n        </div>\n\n        {/* Join Match */}\n        <JoinMatchCard openMatches={openMatches} isAccepting={isAccepting} acceptMatch={acceptMatch} />\n      </div>\n\n      {/* How It Works */}\n      <section className=\"how-section\">\n        <h2>How It Works</h2>\n        <div className=\"how-grid\">\n          <div className=\"how-card\"><div className=\"how-num\">1</div><h3>Create</h3><p>Set a wager and open a match.</p></div>\n          <div className=\"how-card\"><div className=\"how-num\">2</div><h3>Join</h3><p>Pick any open match to enter.</p></div>\n          <div className=\"how-card\"><div className=\"how-num\">3</div><h3>Race &amp; Win</h3><p>Type fastest to win the pot.</p></div>\n        </div>\n      </section>\n\n      <FAQ />\n    </div>\n  );\n\n  const CAN_CANCEL = matchStatus === \"waiting\" && timeLeft === 0;\n\n  const WaitingView = () =>\n    currentMatch && matchStatus === \"waiting\" ? (\n      <div className=\"match-screen\">\n        <div className=\"match-panel\">\n          <div className=\"panel-header\">\n            <h2>Match Lobby</h2>\n            <div className=\"pill\">{currentMatch.amount} SOL</div>\n          </div>\n\n          <div className=\"panel-grid\">\n            <div className=\"panel card\">\n              <h3>Match Info</h3>\n              <div className=\"kv\"><span>Match ID:</span><span>#{currentMatch.id.slice(0, 6)}</span></div>\n              <div className=\"kv\"><span>Creator:</span><span>{currentMatch.creator.slice(0, 6)}…</span></div>\n              <div className=\"kv\"><span>Status:</span><span className=\"ok\">{timeLeft > 0 ? `Cancelable in ${timeLeft}s` : \"Cancelable now\"}</span></div>\n            </div>\n\n            <div className=\"panel card\">\n              <h3>Players</h3>\n              <div className=\"player-row you\"><div className=\"dot\" /><div className=\"who\">You</div><div className=\"addr\">{walletAddressRef.current.slice(0, 6)}…</div></div>\n              <div className=\"player-row\"><div className=\"dot muted\" /><div className=\"who muted\">Waiting for player…</div></div>\n            </div>\n          </div>\n\n          <div className=\"panel-actions\">\n            <button className=\"btn danger\" onClick={() => cancelMatch(currentMatch)} disabled={!CAN_CANCEL}\n              title={timeLeft > 0 ? `You can cancel in ${timeLeft}s` : \"Cancel match\"}>\n              {timeLeft > 0 ? `Cancel in ${timeLeft}s` : \"Cancel Match\"}\n            </button>\n          </div>\n        </div>\n      </div>\n    ) : null;\n\n  const ReadyOrRacingView = () =>\n    currentMatch && (matchStatus === \"ready\" || matchStatus === \"racing\") ? (\n      <div className=\"match-screen\">\n        <div className=\"race-wrap\">\n          {matchStatus === \"ready\" ? (\n            <div className=\"start-count\">\n              <div className=\"big-ring\"><div className=\"ring-inner\">{countdown}</div></div>\n              <div className=\"start-text\">Race Starting</div>\n              <div className=\"muted\">Get ready to type!</div>\n            </div>\n          ) : (\n            <>\n              <div className=\"sentence card mono\">\n                {renderHighlightedSentence(sentence, inputValue, hasError)}\n              </div>\n              <input\n                ref={inputRef}\n                type=\"text\"\n                value={inputValue}\n                onChange={handleInput}\n                onPaste={handleInput}\n                placeholder=\"Start typing…\"\n                disabled={isInputDisabled}\n                autoFocus\n                className={`type-input mono ${hasError ? \"error\" : \"\"}`}\n              />\n              {hasError && <div className=\"error-note\">Mistake detected — correct it.</div>}\n\n              <div className=\"track\">\n                <div className=\"lane\">\n                  <div className=\"car player\" style={{ left: `calc(${playerProgress * 100}% - 32px)` }} aria-label=\"Your car\">\n                    <CarPlayerSVG />\n                  </div>\n                </div>\n                <div className=\"lane\">\n                  <div className=\"car foe\" style={{ left: `calc(${opponentProgress * 100}% - 32px)` }} aria-label=\"Opponent car\">\n                    <CarOpponentSVG />\n                  </div>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    ) : null;\n\n  const ResultsView = () =>\n    matchStatus === \"finished\" && currentMatch ? (\n      <div className=\"match-screen\">\n        <div className=\"results-card card\">\n          {raceResult?.result === \"win\" ? (\n            <>\n              <div className=\"result-emoji\">🏆</div>\n              <h2 className=\"result-title ok\">Victory!</h2>\n              <p className=\"muted\">Claim your prize of {currentMatch.amount} SOL</p>\n              <div className=\"actions\">\n                <button className=\"btn primary\" onClick={async () => {\n                  try {\n                    const ix = await buildResolveIxn(currentMatch.id, walletAddressRef.current);\n                    const tx = new Transaction().add(ix);\n                    await wallet.sendTransaction(tx, connection);\n                    resetGame();\n                  } catch (e) {\n                    console.error(\"Claim error:\", e);\n                    alert(\"Payout error:\\n\" + e.message);\n                  }\n                }}>Claim Winnings</button>\n                <button className=\"btn outline\" onClick={resetGame}>Back to Home</button>\n              </div>\n            </>\n          ) : (\n            <>\n              <div className=\"result-emoji\">❌</div>\n              <h2 className=\"result-title danger\">Defeat</h2>\n              <p className=\"muted\">Better luck next time.</p>\n              <div className=\"actions\">\n                <button className=\"btn outline\" onClick={resetGame}>Back to Home</button>\n              </div>\n            </>\n          )}\n        </div>\n\n        <div className=\"chat card\">\n          <h3>Match Chat</h3>\n          <div className=\"chat-messages\">\n            {chatMessages.map((msg, i) => (\n              <p key={i} className={msg.sender === walletAddressRef.current ? \"self\" : \"other\"}>\n                <strong>{msg.sender.slice(0, 6)}…:</strong> {msg.message}\n              </p>\n            ))}\n          </div>\n          <div className=\"chat-input\">\n            <input\n              value={chatInput}\n              onChange={(e) => setChatInput(e.target.value)}\n              onKeyDown={(e) =>\n                e.key === \"Enter\" &&\n                socket.emit(\"message\", {\n                  matchId: currentMatch.id,\n                  sender: walletAddressRef.current,\n                  message: chatInput,\n                }) &&\n                setChatInput(\"\")\n              }\n              placeholder=\"Type message…\"\n            />\n            <button\n              className=\"btn\"\n              disabled={!chatInput.trim()}\n              onClick={() => {\n                socket.emit(\"message\", {\n                  matchId: currentMatch.id,\n                  sender: walletAddressRef.current,\n                  message: chatInput,\n                });\n                setChatInput(\"\");\n              }}\n            >Send</button>\n          </div>\n        </div>\n      </div>\n    ) : null;\n\n  // ensure cancel window starts for creator\n  useEffect(() => {\n    if (currentMatch && matchStatus === \"waiting\" && !matchCreatedAt) {\n      setMatchCreatedAt(Date.now());\n    }\n  }, [currentMatch, matchStatus, matchCreatedAt]);\n\n  return (\n    <div className=\"app-shell\">\n      <header className=\"topbar\">\n        <div className=\"brand\">\n          <div className=\"dot\" />\n          <div className=\"brand-text\">\n            <div className=\"brand-title\">TypeRacer</div>\n            <div className=\"brand-sub\">Race to win SOL</div>\n          </div>\n        </div>\n\n        {connected ? (\n          <div className=\"wallet-pill\">\n            {walletAddressRef.current.slice(0, 6)}… ({walletBalance.toFixed(2)} SOL)\n          </div>\n        ) : (\n          <WalletMultiButton className=\"connect-btn\" />\n        )}\n      </header>\n\n      {!currentMatch && renderHome()}\n      {WaitingView()}\n      {ReadyOrRacingView()}\n      {ResultsView()}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}