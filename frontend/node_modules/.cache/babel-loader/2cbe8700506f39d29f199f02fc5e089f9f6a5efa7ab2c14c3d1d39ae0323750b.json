{"ast":null,"code":"// frontend/src/solana.js\n\nimport { Connection, PublicKey } from \"@solana/web3.js\";\nimport idl from \"./idl/typeracer_escrow.json\";\n\n// RPC endpoint from .env\nconst RPC_URL = process.env.REACT_APP_SOLANA_RPC;\nif (!RPC_URL) {\n  throw new Error(\"Missing REACT_APP_SOLANA_RPC in your .env\");\n}\nexport const connection = new Connection(RPC_URL, \"confirmed\");\nif (!idl.address) {\n  throw new Error(\"IDL missing top‑level `address` field\");\n}\nexport const PROGRAM_ID = new PublicKey(idl.address);\nlet _provider = null;\nexport function setProvider(wallet) {\n  _provider = new anchor.AnchorProvider(connection, wallet, {\n    preflightCommitment: \"confirmed\",\n    commitment: \"confirmed\"\n  });\n}\nexport function getProvider() {\n  return _provider;\n}","map":{"version":3,"names":["Connection","PublicKey","idl","RPC_URL","process","env","REACT_APP_SOLANA_RPC","Error","connection","address","PROGRAM_ID","_provider","setProvider","wallet","anchor","AnchorProvider","preflightCommitment","commitment","getProvider"],"sources":["/home/kokoi/sol-wager-app/frontend/src/solana.js"],"sourcesContent":["// frontend/src/solana.js\n\nimport { Connection, PublicKey } from \"@solana/web3.js\";\nimport idl from \"./idl/typeracer_escrow.json\";\n\n// RPC endpoint from .env\nconst RPC_URL = process.env.REACT_APP_SOLANA_RPC;\nif (!RPC_URL) {\n  throw new Error(\"Missing REACT_APP_SOLANA_RPC in your .env\");\n}\n\nexport const connection = new Connection(RPC_URL, \"confirmed\");\n\nif (!idl.address) {\n  throw new Error(\"IDL missing top‑level `address` field\");\n}\nexport const PROGRAM_ID = new PublicKey(idl.address);\n\nlet _provider = null;\nexport function setProvider(wallet) {\n  _provider = new anchor.AnchorProvider(connection, wallet, {\n    preflightCommitment: \"confirmed\",\n    commitment: \"confirmed\",\n  });\n}\nexport function getProvider() {\n  return _provider;\n}\n"],"mappings":"AAAA;;AAEA,SAASA,UAAU,EAAEC,SAAS,QAAQ,iBAAiB;AACvD,OAAOC,GAAG,MAAM,6BAA6B;;AAE7C;AACA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB;AAChD,IAAI,CAACH,OAAO,EAAE;EACZ,MAAM,IAAII,KAAK,CAAC,2CAA2C,CAAC;AAC9D;AAEA,OAAO,MAAMC,UAAU,GAAG,IAAIR,UAAU,CAACG,OAAO,EAAE,WAAW,CAAC;AAE9D,IAAI,CAACD,GAAG,CAACO,OAAO,EAAE;EAChB,MAAM,IAAIF,KAAK,CAAC,uCAAuC,CAAC;AAC1D;AACA,OAAO,MAAMG,UAAU,GAAG,IAAIT,SAAS,CAACC,GAAG,CAACO,OAAO,CAAC;AAEpD,IAAIE,SAAS,GAAG,IAAI;AACpB,OAAO,SAASC,WAAWA,CAACC,MAAM,EAAE;EAClCF,SAAS,GAAG,IAAIG,MAAM,CAACC,cAAc,CAACP,UAAU,EAAEK,MAAM,EAAE;IACxDG,mBAAmB,EAAE,WAAW;IAChCC,UAAU,EAAE;EACd,CAAC,CAAC;AACJ;AACA,OAAO,SAASC,WAAWA,CAAA,EAAG;EAC5B,OAAOP,SAAS;AAClB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}