{"ast":null,"code":"var once = require('once');\nvar noop = function () {};\nvar qnt = global.Bare ? queueMicrotask : process.nextTick.bind(process);\nvar isRequest = function (stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n};\nvar isChildProcess = function (stream) {\n  return stream.stdio && Array.isArray(stream.stdio) && stream.stdio.length === 3;\n};\nvar eos = function (stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var ws = stream._writableState;\n  var rs = stream._readableState;\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n  var cancelled = false;\n  var onlegacyfinish = function () {\n    if (!stream.writable) onfinish();\n  };\n  var onfinish = function () {\n    writable = false;\n    if (!readable) callback.call(stream);\n  };\n  var onend = function () {\n    readable = false;\n    if (!writable) callback.call(stream);\n  };\n  var onexit = function (exitCode) {\n    callback.call(stream, exitCode ? new Error('exited with error code: ' + exitCode) : null);\n  };\n  var onerror = function (err) {\n    callback.call(stream, err);\n  };\n  var onclose = function () {\n    qnt(onclosenexttick);\n  };\n  var onclosenexttick = function () {\n    if (cancelled) return;\n    if (readable && !(rs && rs.ended && !rs.destroyed)) return callback.call(stream, new Error('premature close'));\n    if (writable && !(ws && ws.ended && !ws.destroyed)) return callback.call(stream, new Error('premature close'));\n  };\n  var onrequest = function () {\n    stream.req.on('finish', onfinish);\n  };\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !ws) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n  if (isChildProcess(stream)) stream.on('exit', onexit);\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    cancelled = true;\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('exit', onexit);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n};\nmodule.exports = eos;","map":{"version":3,"names":["once","require","noop","qnt","global","Bare","queueMicrotask","process","nextTick","bind","isRequest","stream","setHeader","abort","isChildProcess","stdio","Array","isArray","length","eos","opts","callback","ws","_writableState","rs","_readableState","readable","writable","cancelled","onlegacyfinish","onfinish","call","onend","onexit","exitCode","Error","onerror","err","onclose","onclosenexttick","ended","destroyed","onrequest","req","on","error","removeListener","module","exports"],"sources":["/home/kokoi/typeracer-app/frontend/node_modules/end-of-stream/index.js"],"sourcesContent":["var once = require('once');\n\nvar noop = function() {};\n\nvar qnt = global.Bare ? queueMicrotask : process.nextTick.bind(process);\n\nvar isRequest = function(stream) {\n\treturn stream.setHeader && typeof stream.abort === 'function';\n};\n\nvar isChildProcess = function(stream) {\n\treturn stream.stdio && Array.isArray(stream.stdio) && stream.stdio.length === 3\n};\n\nvar eos = function(stream, opts, callback) {\n\tif (typeof opts === 'function') return eos(stream, null, opts);\n\tif (!opts) opts = {};\n\n\tcallback = once(callback || noop);\n\n\tvar ws = stream._writableState;\n\tvar rs = stream._readableState;\n\tvar readable = opts.readable || (opts.readable !== false && stream.readable);\n\tvar writable = opts.writable || (opts.writable !== false && stream.writable);\n\tvar cancelled = false;\n\n\tvar onlegacyfinish = function() {\n\t\tif (!stream.writable) onfinish();\n\t};\n\n\tvar onfinish = function() {\n\t\twritable = false;\n\t\tif (!readable) callback.call(stream);\n\t};\n\n\tvar onend = function() {\n\t\treadable = false;\n\t\tif (!writable) callback.call(stream);\n\t};\n\n\tvar onexit = function(exitCode) {\n\t\tcallback.call(stream, exitCode ? new Error('exited with error code: ' + exitCode) : null);\n\t};\n\n\tvar onerror = function(err) {\n\t\tcallback.call(stream, err);\n\t};\n\n\tvar onclose = function() {\n\t\tqnt(onclosenexttick);\n\t};\n\n\tvar onclosenexttick = function() {\n\t\tif (cancelled) return;\n\t\tif (readable && !(rs && (rs.ended && !rs.destroyed))) return callback.call(stream, new Error('premature close'));\n\t\tif (writable && !(ws && (ws.ended && !ws.destroyed))) return callback.call(stream, new Error('premature close'));\n\t};\n\n\tvar onrequest = function() {\n\t\tstream.req.on('finish', onfinish);\n\t};\n\n\tif (isRequest(stream)) {\n\t\tstream.on('complete', onfinish);\n\t\tstream.on('abort', onclose);\n\t\tif (stream.req) onrequest();\n\t\telse stream.on('request', onrequest);\n\t} else if (writable && !ws) { // legacy streams\n\t\tstream.on('end', onlegacyfinish);\n\t\tstream.on('close', onlegacyfinish);\n\t}\n\n\tif (isChildProcess(stream)) stream.on('exit', onexit);\n\n\tstream.on('end', onend);\n\tstream.on('finish', onfinish);\n\tif (opts.error !== false) stream.on('error', onerror);\n\tstream.on('close', onclose);\n\n\treturn function() {\n\t\tcancelled = true;\n\t\tstream.removeListener('complete', onfinish);\n\t\tstream.removeListener('abort', onclose);\n\t\tstream.removeListener('request', onrequest);\n\t\tif (stream.req) stream.req.removeListener('finish', onfinish);\n\t\tstream.removeListener('end', onlegacyfinish);\n\t\tstream.removeListener('close', onlegacyfinish);\n\t\tstream.removeListener('finish', onfinish);\n\t\tstream.removeListener('exit', onexit);\n\t\tstream.removeListener('end', onend);\n\t\tstream.removeListener('error', onerror);\n\t\tstream.removeListener('close', onclose);\n\t};\n};\n\nmodule.exports = eos;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}