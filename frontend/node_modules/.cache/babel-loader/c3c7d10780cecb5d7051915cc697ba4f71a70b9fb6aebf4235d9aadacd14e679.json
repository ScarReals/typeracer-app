{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseThpSettings = void 0;\nconst parseThpSettings = ({\n  manifest,\n  thp\n}) => {\n  const settings = {\n    pairingMethods: []\n  };\n  if (Array.isArray(thp?.pairingMethods)) {\n    settings.pairingMethods = thp.pairingMethods;\n  } else {\n    settings.pairingMethods = ['CodeEntry'];\n  }\n  if (typeof thp?.hostName === 'string') {\n    settings.hostName = thp.hostName;\n  } else if (typeof manifest?.appName === 'string') {\n    settings.hostName = manifest?.appName;\n  }\n  if (typeof thp?.staticKey === 'string') {\n    settings.staticKey = thp.staticKey;\n  }\n  if (Array.isArray(thp?.knownCredentials)) {\n    settings.knownCredentials = thp.knownCredentials.flatMap(k => {\n      if (k && typeof k === 'object' && typeof k.credential === 'string' && typeof k.trezor_static_pubkey === 'string') {\n        return k;\n      }\n      return [];\n    });\n  }\n  return settings;\n};\nexports.parseThpSettings = parseThpSettings;","map":{"version":3,"names":["Object","defineProperty","exports","value","parseThpSettings","manifest","thp","settings","pairingMethods","Array","isArray","hostName","appName","staticKey","knownCredentials","flatMap","k","credential","trezor_static_pubkey"],"sources":["/home/kokoi/typeracer-app/frontend/node_modules/@trezor/connect/lib/data/thpSettings.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseThpSettings = void 0;\nconst parseThpSettings = ({ manifest, thp }) => {\n    const settings = {\n        pairingMethods: [],\n    };\n    if (Array.isArray(thp?.pairingMethods)) {\n        settings.pairingMethods = thp.pairingMethods;\n    }\n    else {\n        settings.pairingMethods = ['CodeEntry'];\n    }\n    if (typeof thp?.hostName === 'string') {\n        settings.hostName = thp.hostName;\n    }\n    else if (typeof manifest?.appName === 'string') {\n        settings.hostName = manifest?.appName;\n    }\n    if (typeof thp?.staticKey === 'string') {\n        settings.staticKey = thp.staticKey;\n    }\n    if (Array.isArray(thp?.knownCredentials)) {\n        settings.knownCredentials = thp.knownCredentials.flatMap(k => {\n            if (k &&\n                typeof k === 'object' &&\n                typeof k.credential === 'string' &&\n                typeof k.trezor_static_pubkey === 'string') {\n                return k;\n            }\n            return [];\n        });\n    }\n    return settings;\n};\nexports.parseThpSettings = parseThpSettings;\n//# sourceMappingURL=thpSettings.js.map"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,gBAAgB,GAAG,KAAK,CAAC;AACjC,MAAMA,gBAAgB,GAAGA,CAAC;EAAEC,QAAQ;EAAEC;AAAI,CAAC,KAAK;EAC5C,MAAMC,QAAQ,GAAG;IACbC,cAAc,EAAE;EACpB,CAAC;EACD,IAAIC,KAAK,CAACC,OAAO,CAACJ,GAAG,EAAEE,cAAc,CAAC,EAAE;IACpCD,QAAQ,CAACC,cAAc,GAAGF,GAAG,CAACE,cAAc;EAChD,CAAC,MACI;IACDD,QAAQ,CAACC,cAAc,GAAG,CAAC,WAAW,CAAC;EAC3C;EACA,IAAI,OAAOF,GAAG,EAAEK,QAAQ,KAAK,QAAQ,EAAE;IACnCJ,QAAQ,CAACI,QAAQ,GAAGL,GAAG,CAACK,QAAQ;EACpC,CAAC,MACI,IAAI,OAAON,QAAQ,EAAEO,OAAO,KAAK,QAAQ,EAAE;IAC5CL,QAAQ,CAACI,QAAQ,GAAGN,QAAQ,EAAEO,OAAO;EACzC;EACA,IAAI,OAAON,GAAG,EAAEO,SAAS,KAAK,QAAQ,EAAE;IACpCN,QAAQ,CAACM,SAAS,GAAGP,GAAG,CAACO,SAAS;EACtC;EACA,IAAIJ,KAAK,CAACC,OAAO,CAACJ,GAAG,EAAEQ,gBAAgB,CAAC,EAAE;IACtCP,QAAQ,CAACO,gBAAgB,GAAGR,GAAG,CAACQ,gBAAgB,CAACC,OAAO,CAACC,CAAC,IAAI;MAC1D,IAAIA,CAAC,IACD,OAAOA,CAAC,KAAK,QAAQ,IACrB,OAAOA,CAAC,CAACC,UAAU,KAAK,QAAQ,IAChC,OAAOD,CAAC,CAACE,oBAAoB,KAAK,QAAQ,EAAE;QAC5C,OAAOF,CAAC;MACZ;MACA,OAAO,EAAE;IACb,CAAC,CAAC;EACN;EACA,OAAOT,QAAQ;AACnB,CAAC;AACDL,OAAO,CAACE,gBAAgB,GAAGA,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}